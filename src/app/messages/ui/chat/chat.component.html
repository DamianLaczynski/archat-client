<div class="parent h-full min-h-full min-w-96">
    <div class="flex flex-row justify-center items-center w-full p-2 border-b-2">
        <!--Avatar group-->
        <!-- <div class="flex flex-row justify-center items-center relative">
            <img class="w-7 h-7 rounded-full" src="../../../../../assets/profile.jpg" />
            <img class="w-7 h-7 rounded-full absolute left-5" src="../../../../../assets/profile.jpg" />
            <img class="w-7 h-7 rounded-full absolute left-10" src="../../../../../assets/profile.jpg" />
            <img class="w-7 h-7 rounded-full absolute left-14" src="../../../../../assets/profile.jpg" />

        </div> -->
        <div class="flex flex-col justify-center items-center">
            @if (otherPeerName) {
            <div class="text-black font-semibold text-2xl">{{otherPeerName}}</div>

            }
            @else {
            <div class="text-black font-semibold text-2xl">-</div>
            }
            <!-- <div class="text-gray-500">last seen 45 minutes ago</div> -->
        </div>
        <!-- <button class="px-2 py-1 rounded hover:bg-gray-200">
            <i class="text-2xl bi bi-three-dots"></i>
        </button> -->
    </div>
        @for (msg of messages(); track $index) {
            <div class="flex flex-col h-full min-h-full my-auto px-2 py-3 gap-y-3">
            @if(msg.author == myNick)
            {
                <div class="flex flex-row self-end">
                    <div class="p-2 rounded-lg text-white font-light bg-blue-500">{{msg.content}}</div>
                </div>
            }
            @else {
                <div class="flex flex-row self-start">
                    <div class="p-2 rounded-lg text-black font-light bg-gray-100">{{msg.author}}: {{msg.content}}</div>
                </div>
            }
        </div>
        }
        
    <form [formGroup]="messageForm" class="flex flex-row justify-between items-center border-t-2 w-full px-1">
        <!-- <button class="px-2 my-1 bi bi-emoji-smile rounded hover:bg-gray-200" style="font-size: 28px;"></button> -->
        <input class="w-full px-3 rounded-full border-2 m-1 h-11" placeholder="Type here..." formControlName="message" (keydown.enter)="send()"/>
        <div class="flex flex-row">
            <!-- <button class="px-2  m-1 bi bi-at rounded hover:bg-gray-200" style="font-size: 28px;"></button> -->
            <button class="px-2  m-1 bi bi-send rounded hover:bg-gray-200" style="font-size: 28px;" (click)="send()"></button>
        </div>
    </form>
</div>